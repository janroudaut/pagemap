/*! pagemap v0.4.0 - https://larsjung.de/pagemap/ */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.pagemap=e():t.pagemap=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(e){"use strict";var o=n(1),r=e.window,i=r.document,c=i.querySelector("body"),u=function(t){return"rgba(0,0,0,"+t/100+")"},l={viewport:null,styles:{"header,footer,section,article":u(8),"h1,a":u(10),"h2,h3,h4":u(8)},back:u(2),view:u(5),drag:u(10),interval:null},f=function(t,e,n,o){return n.split(/\s+/).forEach(function(n){return t[e](n,o)})},s=function(t,e,n){return f(t,"addEventListener",e,n)},a=function(t,e,n){return f(t,"removeEventListener",e,n)};t.exports=function(t,e){var n=Object.assign({},l,e),u=t.getContext("2d"),f=function(){var e=t.clientWidth,n=t.clientHeight;return function(t,o){return Math.min(e/t,n/o)}}(),h=function(e,n){t.width=e,t.height=n,t.style.width=e+"px",t.style.height=n+"px"},p=n.viewport,d=function(t){return Array.from((p||i).querySelectorAll(t))},v=!1,y=void 0,g=void 0,w=void 0,m=void 0,x=void 0,b=function(t,e){e&&(u.beginPath(),u.rect(t.x,t.y,t.w,t.h),u.fillStyle=e,u.fill())},T=function(t){Object.keys(t).forEach(function(e){var n=t[e];d(e).forEach(function(t){b(o.ofElement(t).relativeTo(y),n)})})},E=function(){y=p?o.ofContent(p):o.ofDocument(),g=p?o.ofViewport(p):o.ofWindow(),w=f(y.w,y.h),h(y.w*w,y.h*w),u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,t.width,t.height),u.scale(w,w),b(y.relativeTo(y),n.back),T(n.styles),b(g.relativeTo(y),v?n.drag:n.view)},O=function(e){e.preventDefault();var n=o.ofViewport(t),i=(e.pageX-n.x)/w-g.w*m,c=(e.pageY-n.y)/w-g.h*x;p?(p.scrollLeft=i,p.scrollTop=c):r.scrollTo(i,c),E()},j=function e(n){v=!1,t.style.cursor="move",c&&(c.style.cursor="auto"),a(r,"mousemove",O),a(r,"mouseup",e),O(n)},W=function(e){v=!0;var n=o.ofViewport(t),i=g.relativeTo(y);m=((e.pageX-n.x)/w-i.x)/i.w,x=((e.pageY-n.y)/w-i.y)/i.h,(m<0||m>1||x<0||x>1)&&(m=.5,x=.5),t.style.cursor="move",c&&(c.style.cursor="move"),s(r,"mousemove",O),s(r,"mouseup",j),O(e)},L=function(){t.style.cursor="pointer",s(t,"mousedown",W),s(p||r,"load resize scroll",E),n.interval>0&&setInterval(function(){return E()},n.interval),E()};return L(),{redraw:E}}}).call(e,function(){return this}())},function(t,e){(function(e){"use strict";var n=e.window,o=n.document.documentElement,r=t.exports=function(t,e,n,o){return Object.assign(Object.create(r.prototype),{x:t,y:e,w:n,h:o})};r.prototype={constructor:r,relativeTo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return r(this.x-t.x,this.y-t.y,this.w,this.h)}},r.ofDocument=function(){return r(0,0,o.scrollWidth,o.scrollHeight)},r.ofWindow=function(){return r(n.pageXOffset,n.pageYOffset,o.clientWidth,o.clientHeight)};var i=function(t){var e=t.getBoundingClientRect();return{x:e.left+n.pageXOffset,y:e.top+n.pageYOffset,height:e.height,width:e.width}};r.ofElement=function(t){var e=i(t),n=e.x,o=e.y,c=e.width,u=e.height;return r(n,o,c,u)},r.ofViewport=function(t){var e=i(t),n=e.x,o=e.y;return r(n+t.clientLeft,o+t.clientTop,t.clientWidth,t.clientHeight)},r.ofContent=function(t){var e=i(t),n=e.x,o=e.y;return r(n+t.clientLeft-t.scrollLeft,o+t.clientTop-t.scrollTop,t.scrollWidth,t.scrollHeight)}}).call(e,function(){return this}())}])});